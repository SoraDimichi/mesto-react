{"version":3,"sources":["images/__logo/header__logo.svg","components/Header.js","images/__editButton/profile__editButton.svg","images/__avatar/profile__avatarButton.svg","images/__deleteButtonImage/card__deleteButtonImage.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/__closeButtonImage/popup__closeButtonImage.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupWithImage.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","header__logo","alt","CurrentUserContext","React","createContext","Card","onCardClick","onCardLike","onCardDelete","card","name","link","likes","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","like","cardLikeButtonClassName","onClick","card__deleteButtonImage","style","backgroundImage","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","profile__editAvatar","profile__editButton","map","Footer","PopupWithForm","buttonTitle","onClose","children","title","isOpen","onSubmit","popup__closeButtonImage","type","value","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","target","reset","minLength","maxLength","required","placeholder","id","onChange","handleChangeName","handleChangeDescription","EditAvatarPopup","onUpdateAvatar","avatarInput","useRef","setValue","current","ref","handleChange","AddPlacePopup","setLink","handleChangeLink","PopupWithImage","props","api","baseUrl","headers","this","_baseUrl","_headers","path","params","fetch","then","res","ok","json","Promise","reject","Error","status","_getResponseData","data","method","body","JSON","stringify","authorization","App","setUserInfo","setCards","all","getUserInfo","getInitialCards","userData","initialCards","catch","err","isEditProfileOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setEditAvatarPopup","undefined","selectedCard","setSelectedCardPopup","closeAllPopups","Provider","newCard","newCards","cardIsLiked","deleteCard","filter","cardIsDeleted","patchUserInfo","result","patchUserAvatar","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3de8aa16.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react';\r\nimport header__logo from \"../images/__logo/header__logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={header__logo} alt=\"Логотип\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/profile__editButton.a1892ea7.svg\";","export default __webpack_public_path__ + \"static/media/profile__avatarButton.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/card__deleteButtonImage.a274c87c.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport card__deleteButtonImage from '../images/__deleteButtonImage/card__deleteButtonImage.svg';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card ({onCardClick, onCardLike, onCardDelete, card}) {\r\n\r\n  const {name = '', link = '', likes = []} = card;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (`card__deleteButton${isOwn ? '' : ' card__deleteButton_hidden'}`);\r\n\r\n  const isLiked = likes.some((like) => like._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (`card__likeButton${isLiked ? ' card__likeButton_active' : ''}`);\r\n\r\n  const CardClick = () => onCardClick(card);\r\n  const CardLike = () => onCardLike(card);\r\n  const CardDelete = () => onCardDelete(card);\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      <button className={cardDeleteButtonClassName} onClick={CardDelete}>\r\n        <img className=\"card__deleteButtonImage\" src={card__deleteButtonImage} alt=\"Удалить\" />\r\n      </button>\r\n      <div className=\"card__imageContainer\"\r\n           style={{ backgroundImage: `url('${link}')` }}\r\n           onClick={CardClick}\r\n      />\r\n      <p className=\"card__title\">{name}</p>\r\n      <button className={cardLikeButtonClassName} onClick={CardLike}>\r\n      </button>\r\n      <p className=\"card__likeCounter\">{likes.length}</p>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from \"react\";\r\n\r\nimport profile__editButton from '../images/__editButton/profile__editButton.svg';\r\nimport profile__editAvatar from '../images/__avatar/profile__avatarButton.svg';\r\n\r\nimport Card from \"./Card\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main ({onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const {name, about, avatar} = currentUser;\r\n\r\n  return(\r\n    <main className=\"content\">\r\n\r\n      <section className=\"profile\">\r\n\r\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url('${avatar}')` }} />\r\n        <button className=\"profile__avatarButton\" onClick={onEditAvatar} >\r\n          <img src={profile__editAvatar} alt=\"изменить\" />\r\n        </button>\r\n        <h1 className=\"profile__name\">{name}</h1>\r\n        <p className=\"profile__about\">{about}</p>\r\n        <button className=\"profile__openPopupButton\" onClick={onEditProfile}>\r\n          <img className=\"profile__openPopupButtonImage\" src={profile__editButton}\r\n               alt=\"Отредактировать\" />\r\n        </button>\r\n        <button className=\"profile__addButton\" onClick={onAddPlace}>\r\n          +\r\n        </button>\r\n\r\n      </section>\r\n\r\n      <ul className=\"cards\">\r\n        {cards.map((card) =>\r\n          <Card card={card}\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}/>)\r\n        }\r\n      </ul>\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        © 2020 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","export default __webpack_public_path__ + \"static/media/popup__closeButtonImage.153147d3.svg\";","import React from \"react\";\r\nimport popup__closeButtonImage from '../images/__closeButtonImage/popup__closeButtonImage.svg';\r\n\r\nfunction PopupWithForm ({buttonTitle, onClose, children, name, title, isOpen, onSubmit}) {\r\n\r\n    return (\r\n      <div className={`popup popup_type_${name}${isOpen ? ' popup_opened' : ''}`}>\r\n        <button className=\"popup__closeButton\" onClick={onClose}>\r\n          <img className=\"popup__closeButtonImage\" src={popup__closeButtonImage}\r\n               alt=\"закрыть\" />\r\n        </button>\r\n        <form className=\"popup__form\" onSubmit={onSubmit}>\r\n          <fieldset className=\"popup__formFieldSet\" name={name}>\r\n            <legend className=\"popup__formTitle\">{title}</legend>\r\n            {children}\r\n            <input type=\"submit\" title={buttonTitle} value={buttonTitle}\r\n                   className=\"popup__formSubmitButton\"/>\r\n          </fieldset>\r\n        </form>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from \"react\";\r\n\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const handleChangeName = (evt) => setName(evt.target.value);\r\n  const handleChangeDescription = (evt) => setDescription(evt.target.value);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n    evt.target.reset();\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n\r\n    <PopupWithForm name={'editProfile'}\r\n                   title={'Редактировать Профиль'}\r\n                   buttonTitle={'Cохранить'}\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__formField\">\r\n        <input type=\"text\" minLength=\"2\" maxLength=\"40\" required\r\n               title=\"Имя\"\r\n               placeholder=\"Имя\"\r\n               id=\"profileNameInput\"\r\n               className=\"popup__formInputText popup__formInputText_firstInput\"\r\n               value={name}\r\n               onChange={(evt) => handleChangeName(evt)}\r\n        />\r\n        <span className=\"popup__formInputError\" id=\"profileNameInputError\">\r\n        </span>\r\n      </label>\r\n      <label className=\"popup__formField\">\r\n        <input type=\"text\" minLength=\"2\" maxLength=\"200\" required\r\n               title=\"О себе\"\r\n               placeholder=\"О себе\"\r\n               id=\"profileAboutInput\"\r\n               className=\"popup__formInputText popup__formInputText_secondInput\"\r\n               value={description}\r\n               onChange={(evt) => handleChangeDescription(evt)}\r\n        />\r\n        <span className=\"popup__formInputError\" id=\"profileAboutInputError\">\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n  const avatarInput = React.useRef();\r\n\r\n  const [value, setValue] = React.useState('');\r\n\r\n  const handleChange = (evt) => setValue(evt.target.value);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarInput.current.value,\r\n    });\r\n    evt.target.reset();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    avatarInput.current.value = '';\r\n  },[onClose])\r\n\r\n  return (\r\n\r\n    <PopupWithForm name={'editAvatar'}\r\n                   title={'Обновить Аватар'}\r\n                   buttonTitle={'Сохранить'}\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__formField\">\r\n        <input type=\"url\" required\r\n               title=\"Ссылка на картинку\"\r\n               placeholder=\"Ссылка на картинку\"\r\n               id=\"avatarUrlInput\"\r\n               className=\"popup__formInputText\"\r\n               ref={avatarInput}\r\n               value={value}\r\n               onChange={(evt) => handleChange(evt)}\r\n        />\r\n        <span className=\"popup__formInputError\" id=\"avatarUrlInputError\">\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  const handleChangeName = (evt) => setName(evt.target.value);\r\n  const handleChangeLink = (evt) => setLink(evt.target.value);\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    })\r\n    evt.target.reset();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName('')\r\n    setLink('')\r\n  },[onClose])\r\n\r\n  return (\r\n\r\n    <PopupWithForm name={'addCard'}\r\n                   title={'Новое Место'}\r\n                   buttonTitle={'Создать'}\r\n                   isOpen={isOpen}\r\n                   onClose={onClose}\r\n                   onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__formField\">\r\n        <input type=\"text\" minLength=\"1\" maxLength=\"30\" required\r\n               title=\"Название\"\r\n               placeholder=\"Название\"\r\n               id=\"placeNameInput\"\r\n               className=\"popup__formInputText popup__formInputText_firstInput\"\r\n               value={name}\r\n               onChange={(evt) => handleChangeName(evt)}\r\n        />\r\n        <span className=\"popup__formInputError\" id=\"placeNameInputError\">\r\n        </span>\r\n      </label>\r\n      <label className=\"popup__formField\">\r\n        <input type=\"url\" required\r\n               title=\"Ссылка на картинку\"\r\n               placeholder=\"Ссылка на картинку\"\r\n               id=\"placeUrlInput\"\r\n               className=\"popup__formInputText popup__formInputText_secondInput\"\r\n               value={link}\r\n               onChange={(evt) => handleChangeLink(evt)}\r\n        />\r\n        <span className=\"popup__formInputError\" id=\"placeUrlInputError\">\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport popup__closeButtonImage from \"../images/__closeButtonImage/popup__closeButtonImage.svg\";\r\n\r\nfunction PopupWithImage(props) {\r\n\r\n    const {\r\n      card,\r\n      card: {link, name} = {link: '', name: ''},\r\n      onClose,\r\n    } = props;\r\n\r\n    return (\r\n      <div className={`popup popup_type_image${card ? ' popup_opened' : ''}`}>\r\n        <button className=\"popup__closeButton\" onClick={onClose}>\r\n          <img className=\"popup__closeButtonImage\" src={popup__closeButtonImage}\r\n               alt=\"закрыть\" />\r\n        </button>\r\n        <figure className=\"popup__lightBoxContainer\">\r\n          <img className=\"popup__lightBoxImage\" src={`${link}`} alt={name}/>\r\n          <figcaption className=\"popup__lightBoxFigcaption\">{name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithImage","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getResponseData(path, params) {\r\n    return fetch(`${this._baseUrl}${path}`, params).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return this._getResponseData('/cards', { headers: this._headers });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._getResponseData('/users/me/', { headers: this._headers });\r\n  }\r\n\r\n  patchUserInfo(data) {\r\n    return this._getResponseData('/users/me/', {\r\n      headers: this._headers,\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  patchUserAvatar(data) {\r\n    return this._getResponseData('/users/me/avatar', {\r\n      headers: this._headers,\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return this._getResponseData('/cards', {\r\n      headers: this._headers,\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return this._getResponseData(`/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  like(id, isLiked) {\r\n    let method;\r\n    isLiked ? method = 'DELETE' : method = 'PUT';\r\n    return this._getResponseData(`/cards/likes/${id}`, {\r\n      headers: this._headers,\r\n      method: method,\r\n    });\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n  headers: {\r\n    authorization: '9f008da4-23f8-43a7-a6e3-8665fc1f4b68',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});","import React from \"react\";\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\n\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nimport PopupWithImage from \"./PopupWithImage\";\n\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport {api} from \"../utils/Api\"\n\nfunction App() {\n\n  const [currentUser, setUserInfo] = React.useState({\n    name:'',\n    about:'',\n    avatar:'',\n    _id:'',\n  });\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect( () => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()]).then(([userData, initialCards]) => {\n      setUserInfo(userData);\n      setCards(initialCards);\n    }).catch((err) => new Error(`Ошибка: ${err}`))\n  }, [])\n\n  const [isEditProfileOpen, setEditProfilePopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n  const [selectedCard, setSelectedCardPopup] = React.useState(undefined);\n\n  function handleEditProfileClick  ()  {\n    setEditProfilePopup(true);\n  }\n\n  const handleUpdateUser = (data) => {\n    api.patchUserInfo(data).then((result) => {\n      setUserInfo(result);\n      closeAllPopups();\n    }).catch((err) => new Error(`Ошибка: ${err}`))\n  }\n\n  function handleEditAvatarClick ()  {\n    setEditAvatarPopup(true);\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.patchUserAvatar(data).then((result) => {\n      setUserInfo(result);\n      closeAllPopups();\n    }).catch((err) => new Error(`Ошибка: ${err}`))\n  }\n\n  function handleAddPlaceClick ()  {\n    setAddPlacePopup(true);\n  }\n\n  const handleAddPlaceSubmit = (data) => {\n    api.postNewCard(data).then((newCard) => {\n      setCards([newCard,...cards]);\n      closeAllPopups();\n    }).catch((err) => new Error(`Ошибка: ${err}`))\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n    api.like(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((cardIsLiked) => {\n        return cardIsLiked._id === card._id ? newCard : cardIsLiked;\n      });\n      setCards(newCards);\n    }).catch((err) => new Error(`Ошибка: ${err}`));\n  };\n\n  const handleDeleteCard = (card) => {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter(cardIsDeleted => cardIsDeleted._id !== card._id);\n      setCards(newCards);\n    }).catch((err) => new Error(`Ошибка: ${err}`));\n  }\n\n  function handleCardClick(card) {\n    setSelectedCardPopup(card)\n  }\n\n  function closeAllPopups () {\n    setAddPlacePopup(false);\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setSelectedCardPopup(undefined);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header />\n        <Main onAddPlace={handleAddPlaceClick}\n              onEditProfile={handleEditProfileClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCard}\n\n              cards={cards}\n              setCards={setCards}/>\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfileOpen}\n                          onClose={closeAllPopups}\n                          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\n                         onClose={closeAllPopups}\n                         onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen}\n                       onClose={closeAllPopups}\n                       onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithImage card={selectedCard}\n                        onClose={closeAllPopups}\n        />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}